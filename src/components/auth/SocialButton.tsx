import React from 'react';
import { SocialButtonProps } from './types';
import { cn } from '../../lib/utils';

const SocialButton: React.FC<SocialButtonProps> = ({
  provider,
  onClick,
  loading = false,
  disabled = false,
  className,
}) => {
  const getProviderConfig = () => {
    const configs = {
      google: {
        name: 'Google',
        icon: (
          <svg className="auth-social-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path
              fill="#4285f4"
              d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
            />
            <path
              fill="#34a853"
              d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
            />
            <path
              fill="#fbbc05"
              d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
            />
            <path
              fill="#ea4335"
              d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
            />
          </svg>
        ),
      },
      github: {
        name: 'GitHub',
        icon: (
          <svg className="auth-social-icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path
              fillRule="evenodd"
              d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
              clipRule="evenodd"
            />
          </svg>
        ),
      },
      apple: {
        name: 'Apple',
        icon: (
          <svg className="auth-social-icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12.017 0C8.396 0 8.025.028 6.78.084 5.537.14 4.672.363 3.933.64 3.178.92 2.534 1.297 1.89 1.94.632 3.197.236 4.754.084 6.78.028 8.025 0 8.396 0 12.017c0 3.621.028 3.992.084 5.237.14 2.026.363 2.89.64 3.63.28.754.657 1.398 1.3 2.042 1.257 1.258 2.814 1.654 4.84 1.806 1.245.056 1.616.084 5.237.084 3.621 0 3.992-.028 5.237-.084 2.026-.14 2.89-.363 3.63-.64.754-.28 1.398-.657 2.042-1.3 1.258-1.257 1.654-2.814 1.806-4.84.056-1.245.084-1.616.084-5.237 0-3.621-.028-3.992-.084-5.237-.14-2.026-.363-2.89-.64-3.63-.28-.754-.657-1.398-1.3-2.042C21.743.632 20.186.236 18.16.084 16.915.028 16.544 0 12.923 0h-.906zm-.016 2.174h.906c3.538 0 3.962.014 5.36.067 1.296.059 2 .274 2.468.456.62.241 1.063.53 1.527.994.464.463.753.907.994 1.527.182.468.397 1.172.456 2.468.053 1.398.067 1.822.067 5.36 0 3.538-.014 3.962-.067 5.36-.059 1.296-.274 2-.456 2.468a4.108 4.108 0 01-.994 1.527c-.463.464-.907.753-1.527.994-.468.182-1.172.397-2.468.456-1.398.053-1.822.067-5.36.067-3.538 0-3.962-.014-5.36-.067-1.296-.059-2-.274-2.468-.456a4.108 4.108 0 01-1.527-.994 4.108 4.108 0 01-.994-1.527c-.182-.468-.397-1.172-.456-2.468-.053-1.398-.067-1.822-.067-5.36 0-3.538.014-3.962.067-5.36.059-1.296.274-2 .456-2.468.241-.62.53-1.063.994-1.527.463-.464.907-.753 1.527-.994.468-.182 1.172-.397 2.468-.456 1.398-.053 1.822-.067 5.36-.067z" />
          </svg>
        ),
      },
      microsoft: {
        name: 'Microsoft',
        icon: (
          <svg className="auth-social-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="#f25022" d="M1 1h10v10H1z" />
            <path fill="#00a4ef" d="M13 1h10v10H13z" />
            <path fill="#7fba00" d="M1 13h10v10H1z" />
            <path fill="#ffb900" d="M13 13h10v10H13z" />
          </svg>
        ),
      },
      facebook: {
        name: 'Facebook',
        icon: (
          <svg className="auth-social-icon" fill="#1877f2" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
          </svg>
        ),
      },
      twitter: {
        name: 'Twitter',
        icon: (
          <svg className="auth-social-icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
          </svg>
        ),
      },
    };
    return configs[provider];
  };

  const config = getProviderConfig();

  return (
    <button
      type="button"
      onClick={onClick}
      disabled={disabled || loading}
      className={cn('auth-social-button', className)}
      aria-label={`Sign in with ${config.name}`}
    >
      {loading ? (
        <svg
          className="auth-button-spinner"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            className="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            strokeWidth="4"
          />
          <path
            className="opacity-75"
            fill="currentColor"
            d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          />
        </svg>
      ) : (
        config.icon
      )}
      <span>Continue with {config.name}</span>
    </button>
  );
};

export default SocialButton;